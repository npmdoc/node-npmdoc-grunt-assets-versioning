<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/theasta/grunt-assets-versioning"

    >grunt-assets-versioning (v1.0.6)</a>
</h1>
<h4>Versioning static assets with Grunt</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.grunt-assets-versioning">module grunt-assets-versioning</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.grunt-assets-versioning">
            function <span class="apidocSignatureSpan"></span>grunt-assets-versioning
            <span class="apidocSignatureSpan">(grunt)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.abstractVersioner">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.</span>abstractVersioner
            <span class="apidocSignatureSpan">(options, taskData)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.externalVersioner">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.</span>externalVersioner
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.internalVersioner">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.</span>internalVersioner
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.task">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.</span>task
            <span class="apidocSignatureSpan">(taskName, taskFiles)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-assets-versioning.</span>abstractVersioner.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-assets-versioning.</span>externalVersioner.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-assets-versioning.</span>index</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-assets-versioning.</span>internalVersioner.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">grunt-assets-versioning.</span>task.prototype</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.grunt-assets-versioning.abstractVersioner">module grunt-assets-versioning.abstractVersioner</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.abstractVersioner.abstractVersioner">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.</span>abstractVersioner
            <span class="apidocSignatureSpan">(options, taskData)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.grunt-assets-versioning.abstractVersioner.prototype">module grunt-assets-versioning.abstractVersioner.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.checkFilesObjValidity">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>checkFilesObjValidity
            <span class="apidocSignatureSpan">(filesObj, filesMapIndex, filesMapLength)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.createPostVersioningTask">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>createPostVersioningTask
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.createPreVersioningSurrogateTask">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>createPreVersioningSurrogateTask
            <span class="apidocSignatureSpan">(task)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.createSurrogateTask">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>createSurrogateTask
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.doVersion">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>doVersion
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.getAssetsVersioningTaskConfigKey">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>getAssetsVersioningTaskConfigKey
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.getAssetsVersioningTaskName">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>getAssetsVersioningTaskName
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.getPostVersioningSurrogateTasks">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>getPostVersioningSurrogateTasks
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.getPreVersioningSurrogateTasks">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>getPreVersioningSurrogateTasks
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.getTargetTasks">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>getTargetTasks
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.initialize">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>initialize
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.retrieveDestFiles">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>retrieveDestFiles
            <span class="apidocSignatureSpan">(task)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.saveVersionsMap">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>saveVersionsMap
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.setSurrogateTasks">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>setSurrogateTasks
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.grunt-assets-versioning.externalVersioner">module grunt-assets-versioning.externalVersioner</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.externalVersioner.externalVersioner">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.</span>externalVersioner
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.grunt-assets-versioning.externalVersioner.prototype">module grunt-assets-versioning.externalVersioner.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.externalVersioner.prototype.constructor">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.externalVersioner.prototype.</span>constructor
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.externalVersioner.prototype.createSurrogateTask">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.externalVersioner.prototype.</span>createSurrogateTask
            <span class="apidocSignatureSpan">(updatedTaskFiles, task)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.externalVersioner.prototype.doVersion">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.externalVersioner.prototype.</span>doVersion
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.externalVersioner.prototype.getPostVersioningSurrogateTasks">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.externalVersioner.prototype.</span>getPostVersioningSurrogateTasks
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.externalVersioner.prototype.getTargetTasks">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.externalVersioner.prototype.</span>getTargetTasks
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.externalVersioner.prototype.initialize">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.externalVersioner.prototype.</span>initialize
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.grunt-assets-versioning.index">module grunt-assets-versioning.index</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.index.date">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.index.</span>date
            <span class="apidocSignatureSpan">(src, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.index.hash">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.index.</span>hash
            <span class="apidocSignatureSpan">(src, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.grunt-assets-versioning.internalVersioner">module grunt-assets-versioning.internalVersioner</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.internalVersioner.internalVersioner">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.</span>internalVersioner
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.grunt-assets-versioning.internalVersioner.prototype">module grunt-assets-versioning.internalVersioner.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.internalVersioner.prototype._copyOrConcat">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.internalVersioner.prototype.</span>_copyOrConcat
            <span class="apidocSignatureSpan">(files)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.internalVersioner.prototype.constructor">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.internalVersioner.prototype.</span>constructor
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.internalVersioner.prototype.createSurrogateTask">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.internalVersioner.prototype.</span>createSurrogateTask
            <span class="apidocSignatureSpan">(updatedTaskFiles)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.internalVersioner.prototype.doVersion">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.internalVersioner.prototype.</span>doVersion
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.internalVersioner.prototype.getPostVersioningSurrogateTasks">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.internalVersioner.prototype.</span>getPostVersioningSurrogateTasks
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.internalVersioner.prototype.getTargetTasks">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.internalVersioner.prototype.</span>getTargetTasks
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.internalVersioner.prototype.initialize">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.internalVersioner.prototype.</span>initialize
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.grunt-assets-versioning.task">module grunt-assets-versioning.task</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.task.task">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.</span>task
            <span class="apidocSignatureSpan">(taskName, taskFiles)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.grunt-assets-versioning.task.prototype">module grunt-assets-versioning.task.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.task.prototype.createPostVersioningTask">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.task.prototype.</span>createPostVersioningTask
            <span class="apidocSignatureSpan">(filesObj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.task.prototype.createSurrogate">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.task.prototype.</span>createSurrogate
            <span class="apidocSignatureSpan">(filesObj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.task.prototype.getFiles">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.task.prototype.</span>getFiles
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.task.prototype.getTaskConfig">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.task.prototype.</span>getTaskConfig
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.grunt-assets-versioning.task.prototype.getTaskConfigKey">
            function <span class="apidocSignatureSpan">grunt-assets-versioning.task.prototype.</span>getTaskConfigKey
            <span class="apidocSignatureSpan">(taskName)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.grunt-assets-versioning" id="apidoc.module.grunt-assets-versioning">module grunt-assets-versioning</a></h1>


    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.grunt-assets-versioning" id="apidoc.element.grunt-assets-versioning.grunt-assets-versioning">
        function <span class="apidocSignatureSpan"></span>grunt-assets-versioning
        <span class="apidocSignatureSpan">(grunt)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">grunt-assets-versioning = function (grunt) {

  var _fileGlobSync;
  // Project configuration.
  grunt.initConfig({
    jsdoc : {
      dist : {
        src: [&#x27;tasks/**/*.js&#x27;],
        options: {
          destination: &#x27;docs&#x27;,
          configure: &#x27;jsdoc.conf.json&#x27;
        }
      }
    },
    jshint: {
      all: [
        &#x27;Gruntfile.js&#x27;,
        &#x27;tasks/**/*.js&#x27;,
        &#x27;&#x3c;%= nodeunit.tests %&#x3e;&#x27;
      ],
      options: {
        jshintrc: &#x27;.jshintrc&#x27;
      }
    },

    // Before generating any new files, remove any previously-created files.
    clean: {
      tests: [&#x27;tmp&#x27;]
    },

    // Configuration to be run (and then tested).
    assets_versioning: {
      options_tag_date: {
        options: {
          tag           : &#x27;date&#x27;
        },
        files: {
          &#x27;tmp/js/js_bundle_a.js&#x27;: [&#x27;test/fake/file1.js&#x27;, &#x27;test/fake/file2.js&#x27;],
          &#x27;tmp/js/js_bundle_b.js&#x27;: [&#x27;test/fake/file3.js&#x27;, &#x27;test/fake/file4.js&#x27;]
        }
      },
      options_dateFormat: {
        options: {
          tag           : &#x27;date&#x27;,
          dateFormat: &#x27;YYMMDDHHmmss&#x27;,
          timezoneOffset: 7
        },
        files: {
          &#x27;tmp/js/js_bundle_a.js&#x27;: [&#x27;test/fake/file1.js&#x27;, &#x27;test/fake/file2.js&#x27;],
          &#x27;tmp/js/js_bundle_b.js&#x27;: [&#x27;test/fake/file3.js&#x27;, &#x27;test/fake/file4.js&#x27;]
        }
      },
      options_timezoneOffset: {
        options: {
          tag           : &#x27;date&#x27;,
          timezoneOffset: 7
        },
        files: {
          &#x27;tmp/js/js_bundle_a.js&#x27;: [&#x27;test/fake/file1.js&#x27;, &#x27;test/fake/file2.js&#x27;],
          &#x27;tmp/js/js_bundle_b.js&#x27;: [&#x27;test/fake/file3.js&#x27;, &#x27;test/fake/file4.js&#x27;]
        }
      },
      options_hashLength: {
        options: {
          hashLength: 16
        },
        files: {
          &#x27;tmp/js/options_hashlength_a.js&#x27;: [&#x27;test/fixtures/js/file1.js&#x27;, &#x27;test/fixtures/js/file2.js&#x27;],
          &#x27;tmp/js/options_hashlength_b.js&#x27;: [&#x27;test/fixtures/js/file3.js&#x27;, &#x27;test/fixtures/js/file4.js&#x27;]
        }
      },
      options_skipExisting_true: {
        options: {
          skipExisting: true
        },
        files: {
          &#x27;tmp/skip_existing_true.js&#x27;: [&#x27;test/fixtures/js/file1.js&#x27;, &#x27;test/fixtures/js/file2.js&#x27;]
        }
      },
      options_skipExisting_false: {
        options: {
          skipExisting: false
        },
        files: {
          &#x27;tmp/skip_existing_false.js&#x27;: [&#x27;test/fixtures/js/file1.js&#x27;, &#x27;test/fixtures/js/file2.js&#x27;]
        }
      },
      options_skipExisting_array: {
        options: {
          skipExisting: [&#x27;tmp/js/skip_existing_array_1.3d04f375.js&#x27;]
        },
        files: {
          &#x27;tmp/js/skip_existing_array_1.js&#x27;: [&#x27;test/fixtures/js/file1.js&#x27;, &#x27;test/fixtures/js/file2.js&#x27;],
          &#x27;tmp/js/skip_existing_array_2.js&#x27;: [&#x27;test/fixtures/js/file3.js&#x27;, &#x27;test/fixtures/js/file4.js&#x27;]
        }
      },
      options_post_external: {
        options: {
          post: true,
          tasks: [
            &#x27;concat:options_post_1&#x27;,
            &#x27;concat:options_post_2&#x27;
          ]
        }
      },
      options_post_internal: {
        options: {
          post: true
        },
        files: [
          { src: [&#x27;test/fixtures/js/file1.js&#x27;, &#x27;test/fixtures/js/file2.js&#x27;], dest: &#x27;tmp/js/options_post_internal_a.js&#x27; },
          { src: [&#x27;test/fixtures/js/file3.js&#x27;, &#x27;test/fixtures/js/file4.js&#x27;], dest: &#x27;tmp/js/options_post_internal_b.js&#x27; }
        ]
      },
      options_versionsMapFile: {
        files: [{
          expand : true,
          cwd    : &#x22;test/fixtures/images/&#x22;,
          src    : [&#x27;**/*.png&#x27;, &#x27;**/*.jpg&#x27;, &#x27;**/*.gif&#x27;],
          dest   : &#x22;tmp/options_output/&#x22;
        }],
        options: {
          versionsMapFile     : &#x27;tmp/options_output.json&#x27;
        }
      },
      output_versionsMapTrimPath: {
        files: [{
          expand : true,
          cwd    : &#x22;test/fixtures/images/&#x22;,
          src    : [&#x27;**/*.png&#x27;, &#x27;**/*.jpg&#x27;, &#x27;**/*.gif&#x27;],
          dest   : &#x22;tmp/options_output_trim/&#x22;
        }],
        options: {
          versionsMapFile     : &#x27;tmp/options_output_trim.json&#x27;,
          versionsMapTrimPath : &#x27;tmp/options_output_trim/&#x27;
        }
      },
      options_versionsMapTemplate: {
        file ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.abstractVersioner" id="apidoc.element.grunt-assets-versioning.abstractVersioner">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.</span>abstractVersioner
        <span class="apidocSignatureSpan">(options, taskData)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function AbstractVersioner(options, taskData) {
  this.options = options;
  this.taskData = taskData;

<span class="apidocCodeCommentSpan">  /**
   * Map of versioned files
   * @type {Array.&#x3c;{version, originalPath: string, versionedPath: string}&#x3e;}
   */
</span>  this.versionsMap = [];

  /**
   * Get one of the tagger functions: hash or date
   * @type {function}
   */
  this.versionTagger = taggers[this.options.tag];

  // is task a post versioning task?
  this.isPostVersioningTask = grunt.config(this.getAssetsVersioningTaskConfigKey() + &#x27;.isPostVersioningTaskFor&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.externalVersioner" id="apidoc.element.grunt-assets-versioning.externalVersioner">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.</span>externalVersioner
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">externalVersioner = function () {
  return Parent.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.internalVersioner" id="apidoc.element.grunt-assets-versioning.internalVersioner">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.</span>internalVersioner
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">internalVersioner = function () {
  return Parent.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.task" id="apidoc.element.grunt-assets-versioning.task">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.</span>task
        <span class="apidocSignatureSpan">(taskName, taskFiles)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">task = function (taskName, taskFiles) {
  grunt.log.writeln(&#x22;Versioning files from &#x22; + taskName + &#x22; task.&#x22;);
  this.taskName = taskName;

  this.taskConfig = this.getTaskConfig();

  if (!this.taskConfig) {
    grunt.fail.warn(&#x22;Task &#x27;&#x22; + this.taskName + &#x22;&#x27; doesn&#x27;t exist or doesn&#x27;t have any configuration.&#x22;, 1);
  }

  this.taskFiles = taskFiles || this.getFiles();
  if (!this.taskFiles || this.taskFiles.length === 0) {
    grunt.fail.warn(&#x22;Task &#x27;&#x22; + this.taskName + &#x22;&#x27; doesn&#x27;t have any src-dest file mappings.&#x22;, 1);
  }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>












</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.grunt-assets-versioning.abstractVersioner" id="apidoc.module.grunt-assets-versioning.abstractVersioner">module grunt-assets-versioning.abstractVersioner</a></h1>


    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.abstractVersioner.abstractVersioner" id="apidoc.element.grunt-assets-versioning.abstractVersioner.abstractVersioner">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.</span>abstractVersioner
        <span class="apidocSignatureSpan">(options, taskData)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function AbstractVersioner(options, taskData) {
  this.options = options;
  this.taskData = taskData;

<span class="apidocCodeCommentSpan">  /**
   * Map of versioned files
   * @type {Array.&#x3c;{version, originalPath: string, versionedPath: string}&#x3e;}
   */
</span>  this.versionsMap = [];

  /**
   * Get one of the tagger functions: hash or date
   * @type {function}
   */
  this.versionTagger = taggers[this.options.tag];

  // is task a post versioning task?
  this.isPostVersioningTask = grunt.config(this.getAssetsVersioningTaskConfigKey() + &#x27;.isPostVersioningTaskFor&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.grunt-assets-versioning.abstractVersioner.prototype" id="apidoc.module.grunt-assets-versioning.abstractVersioner.prototype">module grunt-assets-versioning.abstractVersioner.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.checkFilesObjValidity" id="apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.checkFilesObjValidity">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>checkFilesObjValidity
        <span class="apidocSignatureSpan">(filesObj, filesMapIndex, filesMapLength)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">checkFilesObjValidity = function (filesObj, filesMapIndex, filesMapLength) {
  grunt.log.debug(&#x22;Iterating through file mapping - &#x22; + ( filesMapIndex + 1 ) + &#x22;/&#x22; + filesMapLength);

  var src = filesObj.src.filter(function (file) {
    return grunt.file.isFile(file);
  });

  grunt.log.debug(&#x27;Source files: &#x27;, src);
  if (src.length === 0) {
    grunt.log.debug(JSON.stringify(filesObj.orig));
    return false;
  }

  if (typeof filesObj.dest !== &#x27;string&#x27;) {
    grunt.log.debug(JSON.stringify(filesObj.orig));
    return false;
  }

  return src;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param task
 * @returns {Array}
 */
AbstractVersioner.prototype.retrieveDestFiles = function (task) {
  var destFiles = [];
  var filesMapLength = task.taskFiles.length;
  task.taskFiles.forEach(function(f, index) {
    if (!this.<span class="apidocCodeKeywordSpan">checkFilesObjValidity</span>(f, index, filesMapLength)) { return false; }
    destFiles.push(f.dest);
  }.bind(this));
  if (destFiles.length === 0) {
    grunt.fail.warn(&#x22;Task &#x27;&#x22; + task.taskName + &#x22;&#x27; has no destination files!&#x22;);
  }
  return destFiles;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.createPostVersioningTask" id="apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.createPostVersioningTask">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>createPostVersioningTask
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createPostVersioningTask = function () {
  var intermediateDestFiles = _.flatten(this.getTargetTasks().map(this.retrieveDestFiles.bind(this)));
  grunt.log.debug(&#x22;Retrieved all destination files: &#x22; + intermediateDestFiles.join(&#x27;, &#x27;));
  var filesArray = intermediateDestFiles.map(function (destFile) {
    return {src: [destFile], dest: destFile};
  });
  var task = new TaskClass(this.getAssetsVersioningTaskName(), filesArray);
  return task.createPostVersioningTask(filesArray);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
AbstractVersioner.prototype.createPostVersioningTask = function () {
  var intermediateDestFiles = _.flatten(this.getTargetTasks().map(this.retrieveDestFiles.bind(this)));
  grunt.log.debug(&#x22;Retrieved all destination files: &#x22; + intermediateDestFiles.join(&#x27;, &#x27;));
  var filesArray = intermediateDestFiles.map(function (destFile) {
    return {src: [destFile], dest: destFile};
  });
  var task = new TaskClass(this.getAssetsVersioningTaskName(), filesArray);
  return task.<span class="apidocCodeKeywordSpan">createPostVersioningTask</span>(filesArray);
};

/**
 * Get the assets versioning task name (for example assets_versioning:mytask)
 * @returns {string}
 */
AbstractVersioner.prototype.getAssetsVersioningTaskName = function () {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.createPreVersioningSurrogateTask" id="apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.createPreVersioningSurrogateTask">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>createPreVersioningSurrogateTask
        <span class="apidocSignatureSpan">(task)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createPreVersioningSurrogateTask = function (task) {

  var updatedTaskFiles = [];
  var allVersionedPath = [];

  var filesMapLength = task.taskFiles.length;
  var filesMapSkipCount = 0;
  task.taskFiles.forEach(function(taskFilesObj, index) {
    var src = this.checkFilesObjValidity(taskFilesObj, index, filesMapLength);
    if (!src) {
      filesMapSkipCount++;
      return false;
    }

    var version = this.versionTagger(src, this.options);
    grunt.log.debug(&#x27;Version tag (&#x27; + this.options.tag + &#x27;): &#x27; + version);

    if (version === &#x27;&#x27;) {
      grunt.fail.warn(&#x22;Failed at generating a version tag for &#x22; + taskFilesObj.dest, 1);
      return false;
    }

    var destFilePath = this.options.versionize.call(this, taskFilesObj.dest, version);
    grunt.log.debug(&#x27;Destination filename: &#x27; + destFilePath);

    // push to the map of versions

    var versionedPath = destFilePath.replace(this.options.versionsMapTrimPath, &#x27;&#x27;);
    if (_.contains(allVersionedPath, versionedPath)) {
      grunt.fail.warn(&#x22;Duplicate versioned path detected: &#x27;&#x22; + versionedPath +&#x22;&#x27;.&#x22;);
    } else {
      allVersionedPath.push(versionedPath);
      this.versionsMap.push({
        version: version,
        originalPath: taskFilesObj.dest.replace(this.options.versionsMapTrimPath, &#x27;&#x27;),
        versionedPath: slash(versionedPath)
      });
    }

    // check if file already exists
    if (this.options.skipExisting === true) {
      grunt.log.debug(&#x27;options.skipExisting is true, checking if destination file already exists.&#x27;);
      if (grunt.file.exists(destFilePath)) {
        grunt.log.debug(&#x27;Destination file already exists. Task skipped.&#x27;);
        return false;
      }
      grunt.log.debug(&#x22;Destination file doesn&#x27;t exist. Task will be processed.&#x22;);
    } else if (Array.isArray(this.options.skipExisting)) {
      if (this.options.skipExisting.indexOf(destFilePath) !== -1) {
        grunt.log.debug(&#x27;Destination file listed in options.skipExisting. Task skipped&#x27;);
        return false;
      }
      grunt.log.debug(&#x22;Destination file not list in options.skipExisting. Task will be processed.&#x22;);
    }

    // log the src and dest data
    updatedTaskFiles.push({ src: src, dest: destFilePath });

  }.bind(this));

  if (filesMapSkipCount === filesMapLength) {
    grunt.fail.warn(&#x22;File configuration for Task &#x27;&#x22; + task.taskName + &#x22;&#x27; is incorrect. Missing valid source files and/or destination
 files!&#x22;);
  }

  grunt.log.debug(&#x22;Versioned Files Object: &#x22;, updatedTaskFiles);

  return this.createSurrogateTask(updatedTaskFiles, task);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.createSurrogateTask" id="apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.createSurrogateTask">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>createSurrogateTask
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createSurrogateTask = function () {
  throw new Error(&#x27;Should be implemented by the subclass&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  if (filesMapSkipCount === filesMapLength) {
    grunt.fail.warn(&#x22;File configuration for Task &#x27;&#x22; + task.taskName + &#x22;&#x27; is incorrect. Missing valid source
 files and/or destination files!&#x22;);
  }

  grunt.log.debug(&#x22;Versioned Files Object: &#x22;, updatedTaskFiles);

  return this.<span class="apidocCodeKeywordSpan">createSurrogateTask</span>(updatedTaskFiles, task);
};

/**
 * Save the versions map to a grunt configuration variable
 * and also optionally to a file
 */
AbstractVersioner.prototype.saveVersionsMap = function () {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.doVersion" id="apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.doVersion">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>doVersion
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">doVersion = function () {
  throw new Error(&#x27;Should be implemented by the subclass&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.getAssetsVersioningTaskConfigKey" id="apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.getAssetsVersioningTaskConfigKey">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>getAssetsVersioningTaskConfigKey
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAssetsVersioningTaskConfigKey = function () {
  return this.taskData.name + &#x27;.&#x27; + this.taskData.target;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  /**
   * Get one of the tagger functions: hash or date
   * @type {function}
   */
  this.versionTagger = taggers[this.options.tag];

  // is task a post versioning task?
  this.isPostVersioningTask = grunt.config(this.<span class="apidocCodeKeywordSpan">getAssetsVersioningTaskConfigKey</span>() + &#
x27;.isPostVersioningTaskFor&#x27;);
}

/**
 * Initiliaze the task
 * @abstract
 */
AbstractVersioner.prototype.initialize = function () {};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.getAssetsVersioningTaskName" id="apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.getAssetsVersioningTaskName">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>getAssetsVersioningTaskName
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAssetsVersioningTaskName = function () {
  return this.taskData.name + &#x27;:&#x27; + this.taskData.target;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*/
AbstractVersioner.prototype.createPostVersioningTask = function () {
 var intermediateDestFiles = _.flatten(this.getTargetTasks().map(this.retrieveDestFiles.bind(this)));
 grunt.log.debug(&#x22;Retrieved all destination files: &#x22; + intermediateDestFiles.join(&#x27;, &#x27;));
 var filesArray = intermediateDestFiles.map(function (destFile) {
   return {src: [destFile], dest: destFile};
 });
 var task = new TaskClass(this.<span class="apidocCodeKeywordSpan">getAssetsVersioningTaskName</span>(), filesArray);
 return task.createPostVersioningTask(filesArray);
};

/**
* Get the assets versioning task name (for example assets_versioning:mytask)
* @returns {string}
*/
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.getPostVersioningSurrogateTasks" id="apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.getPostVersioningSurrogateTasks">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>getPostVersioningSurrogateTasks
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getPostVersioningSurrogateTasks = function () {
  throw new Error(&#x27;Should be implemented by the subclass&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

/**
 * Set the property surrogateTasks
 */
AbstractVersioner.prototype.setSurrogateTasks = function () {
  if (this.options.post) {
    grunt.log.debug(&#x22;Post-Versioning Mode&#x22;);
    this.surrogateTasks = this.<span class="apidocCodeKeywordSpan">getPostVersioningSurrogateTasks</span>();
  } else {
    grunt.log.debug(&#x22;Pre-Versioning Mode&#x22;);
    this.surrogateTasks = this.getPreVersioningSurrogateTasks();
  }
};

/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.getPreVersioningSurrogateTasks" id="apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.getPreVersioningSurrogateTasks">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>getPreVersioningSurrogateTasks
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getPreVersioningSurrogateTasks = function () {
  return this.getTargetTasks().map(this.createPreVersioningSurrogateTask.bind(this));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*/
AbstractVersioner.prototype.setSurrogateTasks = function () {
 if (this.options.post) {
   grunt.log.debug(&#x22;Post-Versioning Mode&#x22;);
   this.surrogateTasks = this.getPostVersioningSurrogateTasks();
 } else {
   grunt.log.debug(&#x22;Pre-Versioning Mode&#x22;);
   this.surrogateTasks = this.<span class="apidocCodeKeywordSpan">getPreVersioningSurrogateTasks</span>();
 }
};

/**
* Create or gather all Surrogate Tasks for the post versioning mode
* @abstract
*/
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.getTargetTasks" id="apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.getTargetTasks">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>getTargetTasks
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getTargetTasks = function () {
  throw new Error(&#x27;Should be implemented by the subclass&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

/**
 * Create or gather all surrogate tasks for the pre versioning mode
 * @returns {Array} Array of tasks names
 */
AbstractVersioner.prototype.getPreVersioningSurrogateTasks = function () {
  return this.<span class="apidocCodeKeywordSpan">getTargetTasks</span>().map(this.createPreVersioningSurrogateTask.bind(this));
};

/**
 * Create the Post Versioning Task
 * @returns {string}
 */
AbstractVersioner.prototype.createPostVersioningTask = function () {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.initialize" id="apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.initialize">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>initialize
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initialize = function () {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.retrieveDestFiles" id="apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.retrieveDestFiles">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>retrieveDestFiles
        <span class="apidocSignatureSpan">(task)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">retrieveDestFiles = function (task) {
  var destFiles = [];
  var filesMapLength = task.taskFiles.length;
  task.taskFiles.forEach(function(f, index) {
    if (!this.checkFilesObjValidity(f, index, filesMapLength)) { return false; }
    destFiles.push(f.dest);
  }.bind(this));
  if (destFiles.length === 0) {
    grunt.fail.warn(&#x22;Task &#x27;&#x22; + task.taskName + &#x22;&#x27; has no destination files!&#x22;);
  }
  return destFiles;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.saveVersionsMap" id="apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.saveVersionsMap">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>saveVersionsMap
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">saveVersionsMap = function () {
  if (this.options.post) { return; }
  if (typeof this.options.versionsMapFile === &#x22;string&#x22;) {
    var versionsMapContent;

    // Are we generating a json file or are we using a template file?
    var templateFile = this.options.versionsMapTemplate;
    if (typeof templateFile === &#x22;string&#x22;) {
      if (!grunt.file.exists(templateFile)) {

      }
      var template = grunt.util.normalizelf(grunt.file.read(templateFile, &#x27;utf8&#x27;));
      versionsMapContent = grunt.template.process(template, {
        data: {
          files: this.versionsMap
        }
      }).replace(/[\n]{2}/g,&#x22;\n&#x22;);
    } else {
      versionsMapContent = JSON.stringify(this.versionsMap);
    }
    grunt.file.write(this.options.versionsMapFile, versionsMapContent);
  }

  grunt.config.set(this.getAssetsVersioningTaskConfigKey() + &#x27;.versionsMap&#x27;, this.versionsMap);
  //var originalTask = grunt.config(this.getAssetsVersioningTaskConfigKey() + &#x27;.isPostVersioningTaskFor&#x27;);
  //if (typeof originalTask === &#x27;string&#x27;) {
  //  grunt.config.set(originalTask + &#x27;.versionsMap&#x27;, this.versionsMap);
  //}

  if (typeof this.isPostVersioningTask  === &#x27;string&#x27;) {
    grunt.config.set(this.isPostVersioningTask + &#x27;.versionsMap&#x27;, this.versionsMap);
  }

  grunt.log.debug(&#x22;Versions Map: &#x22;, this.versionsMap);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
* Do the actual versioning
*/
ExternalVersioner.prototype.doVersion = function () {
 if (this.options.runTask) {
   grunt.verbose.writeln(&#x22;Tasks triggered: &#x27;&#x22; + this.surrogateTasks.join(&#x22;, &#x22;) + &#x22;&#x27;&#x22;);
   grunt.task.run(this.surrogateTasks);
   this.<span class="apidocCodeKeywordSpan">saveVersionsMap</span>();
 }
};

/**
* Create a surrogate task
* @param {Array} updatedTaskFiles
* @param task
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.setSurrogateTasks" id="apidoc.element.grunt-assets-versioning.abstractVersioner.prototype.setSurrogateTasks">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.abstractVersioner.prototype.</span>setSurrogateTasks
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setSurrogateTasks = function () {
  if (this.options.post) {
    grunt.log.debug(&#x22;Post-Versioning Mode&#x22;);
    this.surrogateTasks = this.getPostVersioningSurrogateTasks();
  } else {
    grunt.log.debug(&#x22;Pre-Versioning Mode&#x22;);
    this.surrogateTasks = this.getPreVersioningSurrogateTasks();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 */
ExternalVersioner.prototype.initialize = function () {
  // display a warning if both assets versioning and target tasks have a file configuration object
  if (this.taskData.data.files != null) {
    grunt.log.error(&#x22;Files passed to &#x27;&#x22; + this.getAssetsVersioningTaskName() + &#x22;&#x27; won&#x27;t be versioned
.&#x22;);
  }

  this.<span class="apidocCodeKeywordSpan">setSurrogateTasks</span>();
};

/**
 * get Post Versioning Tasks
 * @returns {*}
 */
ExternalVersioner.prototype.getPostVersioningSurrogateTasks = function () {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.grunt-assets-versioning.externalVersioner" id="apidoc.module.grunt-assets-versioning.externalVersioner">module grunt-assets-versioning.externalVersioner</a></h1>


    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.externalVersioner.externalVersioner" id="apidoc.element.grunt-assets-versioning.externalVersioner.externalVersioner">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.</span>externalVersioner
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">externalVersioner = function () {
  return Parent.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.grunt-assets-versioning.externalVersioner.prototype" id="apidoc.module.grunt-assets-versioning.externalVersioner.prototype">module grunt-assets-versioning.externalVersioner.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.externalVersioner.prototype.constructor" id="apidoc.element.grunt-assets-versioning.externalVersioner.prototype.constructor">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.externalVersioner.prototype.</span>constructor
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">constructor = function () {
  return Parent.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.externalVersioner.prototype.createSurrogateTask" id="apidoc.element.grunt-assets-versioning.externalVersioner.prototype.createSurrogateTask">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.externalVersioner.prototype.</span>createSurrogateTask
        <span class="apidocSignatureSpan">(updatedTaskFiles, task)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createSurrogateTask = function (updatedTaskFiles, task) {
  return task.createSurrogate(updatedTaskFiles);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  if (filesMapSkipCount === filesMapLength) {
    grunt.fail.warn(&#x22;File configuration for Task &#x27;&#x22; + task.taskName + &#x22;&#x27; is incorrect. Missing valid source
 files and/or destination files!&#x22;);
  }

  grunt.log.debug(&#x22;Versioned Files Object: &#x22;, updatedTaskFiles);

  return this.<span class="apidocCodeKeywordSpan">createSurrogateTask</span>(updatedTaskFiles, task);
};

/**
 * Save the versions map to a grunt configuration variable
 * and also optionally to a file
 */
AbstractVersioner.prototype.saveVersionsMap = function () {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.externalVersioner.prototype.doVersion" id="apidoc.element.grunt-assets-versioning.externalVersioner.prototype.doVersion">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.externalVersioner.prototype.</span>doVersion
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">doVersion = function () {
  if (this.options.runTask) {
    grunt.verbose.writeln(&#x22;Tasks triggered: &#x27;&#x22; + this.surrogateTasks.join(&#x22;, &#x22;) + &#x22;&#x27;&#x22;);
    grunt.task.run(this.surrogateTasks);
    this.saveVersionsMap();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.externalVersioner.prototype.getPostVersioningSurrogateTasks" id="apidoc.element.grunt-assets-versioning.externalVersioner.prototype.getPostVersioningSurrogateTasks">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.externalVersioner.prototype.</span>getPostVersioningSurrogateTasks
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getPostVersioningSurrogateTasks = function () {
  return this.options.tasks.concat([this.createPostVersioningTask()]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

/**
 * Set the property surrogateTasks
 */
AbstractVersioner.prototype.setSurrogateTasks = function () {
  if (this.options.post) {
    grunt.log.debug(&#x22;Post-Versioning Mode&#x22;);
    this.surrogateTasks = this.<span class="apidocCodeKeywordSpan">getPostVersioningSurrogateTasks</span>();
  } else {
    grunt.log.debug(&#x22;Pre-Versioning Mode&#x22;);
    this.surrogateTasks = this.getPreVersioningSurrogateTasks();
  }
};

/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.externalVersioner.prototype.getTargetTasks" id="apidoc.element.grunt-assets-versioning.externalVersioner.prototype.getTargetTasks">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.externalVersioner.prototype.</span>getTargetTasks
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getTargetTasks = function () {
  return this.options.tasks.map(function (taskName) {
    return new TaskClass(taskName);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

/**
 * Create or gather all surrogate tasks for the pre versioning mode
 * @returns {Array} Array of tasks names
 */
AbstractVersioner.prototype.getPreVersioningSurrogateTasks = function () {
  return this.<span class="apidocCodeKeywordSpan">getTargetTasks</span>().map(this.createPreVersioningSurrogateTask.bind(this));
};

/**
 * Create the Post Versioning Task
 * @returns {string}
 */
AbstractVersioner.prototype.createPostVersioningTask = function () {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.externalVersioner.prototype.initialize" id="apidoc.element.grunt-assets-versioning.externalVersioner.prototype.initialize">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.externalVersioner.prototype.</span>initialize
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initialize = function () {
  // display a warning if both assets versioning and target tasks have a file configuration object
  if (this.taskData.data.files != null) {
    grunt.log.error(&#x22;Files passed to &#x27;&#x22; + this.getAssetsVersioningTaskName() + &#x22;&#x27; won&#x27;t be versioned.&#x22;);
  }

  this.setSurrogateTasks();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.grunt-assets-versioning.index" id="apidoc.module.grunt-assets-versioning.index">module grunt-assets-versioning.index</a></h1>


    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.index.date" id="apidoc.element.grunt-assets-versioning.index.date">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.index.</span>date
        <span class="apidocSignatureSpan">(src, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">date = function (src, options) {

  var lastMtime = src.map(function(filepath){
    return +fs.statSync(filepath).mtime;
  }).sort().pop();
  return moment(lastMtime).utcOffset(-options.timezoneOffset).format(options.dateFormat);

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.index.hash" id="apidoc.element.grunt-assets-versioning.index.hash">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.index.</span>hash
        <span class="apidocSignatureSpan">(src, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hash = function (src, options) {
  var hash = &#x27;&#x27;;

  src.forEach(function(f){
    hash += crypto.createHash(&#x27;md5&#x27;).update(fs.readFileSync(f, options.encoding)).digest(&#x27;hex&#x27;);
  });
  if (src.length &#x3e; 1){
    hash = crypto.createHash(&#x27;md5&#x27;).update(hash).digest(&#x27;hex&#x27;);
  }
  var hashLength = parseInt(options.hashLength, 10);

  // can&#x27;t use typeof since typeof NaN == &#x27;number&#x27;
  if (Object.prototype.toString.call(hashLength) === &#x27;[object Number]&#x27;) {
    hash = hash.substr(0, options.hashLength);
  }

  return hash;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.grunt-assets-versioning.internalVersioner" id="apidoc.module.grunt-assets-versioning.internalVersioner">module grunt-assets-versioning.internalVersioner</a></h1>


    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.internalVersioner.internalVersioner" id="apidoc.element.grunt-assets-versioning.internalVersioner.internalVersioner">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.</span>internalVersioner
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">internalVersioner = function () {
  return Parent.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.grunt-assets-versioning.internalVersioner.prototype" id="apidoc.module.grunt-assets-versioning.internalVersioner.prototype">module grunt-assets-versioning.internalVersioner.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.internalVersioner.prototype._copyOrConcat" id="apidoc.element.grunt-assets-versioning.internalVersioner.prototype._copyOrConcat">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.internalVersioner.prototype.</span>_copyOrConcat
        <span class="apidocSignatureSpan">(files)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_copyOrConcat = function (files) {
  files.forEach(function (filesObj)  {
    // if only one file, copy it
    // otherwise concatenate the content
    if (filesObj.src.length === 1) {
      grunt.file.copy(filesObj.src[0], filesObj.dest);
      if (this.isPostVersioningTask) {
        grunt.file.delete(filesObj.src[0]);
        grunt.log.debug(&#x22;Deleted intermediate destination file: &#x22; + filesObj.src[0]);
      }
    } else {
      var content = filesObj.src.map(function (filepath) {
        return grunt.file.read(filepath);
      }).join(grunt.util.linefeed);

      grunt.file.write(filesObj.dest, content);
    }

    grunt.log.writeln(&#x27;File &#x27; + filesObj.dest + &#x27; created.&#x27;);

  }, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.saveVersionsMap();

  if (this.surrogateTasks.length !== 1) {
    grunt.log.error(&#x27;There should be only one surrogate task in internal mode.&#x27;);
  }

  if (this.options.post) {
    this.<span class="apidocCodeKeywordSpan">_copyOrConcat</span>(this.getTargetTasks()[0].taskFiles);
    grunt.task.run(this.surrogateTasks);
  } else {
    this._copyOrConcat(this.surrogateTasks[0].files);
  }

};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.internalVersioner.prototype.constructor" id="apidoc.element.grunt-assets-versioning.internalVersioner.prototype.constructor">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.internalVersioner.prototype.</span>constructor
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">constructor = function () {
  return Parent.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.internalVersioner.prototype.createSurrogateTask" id="apidoc.element.grunt-assets-versioning.internalVersioner.prototype.createSurrogateTask">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.internalVersioner.prototype.</span>createSurrogateTask
        <span class="apidocSignatureSpan">(updatedTaskFiles)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createSurrogateTask = function (updatedTaskFiles) {
  return { files: updatedTaskFiles };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  if (filesMapSkipCount === filesMapLength) {
    grunt.fail.warn(&#x22;File configuration for Task &#x27;&#x22; + task.taskName + &#x22;&#x27; is incorrect. Missing valid source
 files and/or destination files!&#x22;);
  }

  grunt.log.debug(&#x22;Versioned Files Object: &#x22;, updatedTaskFiles);

  return this.<span class="apidocCodeKeywordSpan">createSurrogateTask</span>(updatedTaskFiles, task);
};

/**
 * Save the versions map to a grunt configuration variable
 * and also optionally to a file
 */
AbstractVersioner.prototype.saveVersionsMap = function () {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.internalVersioner.prototype.doVersion" id="apidoc.element.grunt-assets-versioning.internalVersioner.prototype.doVersion">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.internalVersioner.prototype.</span>doVersion
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">doVersion = function () {
  this.saveVersionsMap();

  if (this.surrogateTasks.length !== 1) {
    grunt.log.error(&#x27;There should be only one surrogate task in internal mode.&#x27;);
  }

  if (this.options.post) {
    this._copyOrConcat(this.getTargetTasks()[0].taskFiles);
    grunt.task.run(this.surrogateTasks);
  } else {
    this._copyOrConcat(this.surrogateTasks[0].files);
  }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.internalVersioner.prototype.getPostVersioningSurrogateTasks" id="apidoc.element.grunt-assets-versioning.internalVersioner.prototype.getPostVersioningSurrogateTasks">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.internalVersioner.prototype.</span>getPostVersioningSurrogateTasks
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getPostVersioningSurrogateTasks = function () {
  return [this.createPostVersioningTask()];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

/**
 * Set the property surrogateTasks
 */
AbstractVersioner.prototype.setSurrogateTasks = function () {
  if (this.options.post) {
    grunt.log.debug(&#x22;Post-Versioning Mode&#x22;);
    this.surrogateTasks = this.<span class="apidocCodeKeywordSpan">getPostVersioningSurrogateTasks</span>();
  } else {
    grunt.log.debug(&#x22;Pre-Versioning Mode&#x22;);
    this.surrogateTasks = this.getPreVersioningSurrogateTasks();
  }
};

/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.internalVersioner.prototype.getTargetTasks" id="apidoc.element.grunt-assets-versioning.internalVersioner.prototype.getTargetTasks">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.internalVersioner.prototype.</span>getTargetTasks
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getTargetTasks = function () {
  return [new TaskClass(this.getAssetsVersioningTaskName(), this.taskData.files)];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

/**
 * Create or gather all surrogate tasks for the pre versioning mode
 * @returns {Array} Array of tasks names
 */
AbstractVersioner.prototype.getPreVersioningSurrogateTasks = function () {
  return this.<span class="apidocCodeKeywordSpan">getTargetTasks</span>().map(this.createPreVersioningSurrogateTask.bind(this));
};

/**
 * Create the Post Versioning Task
 * @returns {string}
 */
AbstractVersioner.prototype.createPostVersioningTask = function () {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.internalVersioner.prototype.initialize" id="apidoc.element.grunt-assets-versioning.internalVersioner.prototype.initialize">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.internalVersioner.prototype.</span>initialize
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initialize = function () {
  // if internal task is a post versioning internal task
  //this.isPostVersioningTask = grunt.config(this.getAssetsVersioningTaskConfigKey() + &#x27;.isPostVersioningTaskFor&#x27;);
  this.setSurrogateTasks();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.grunt-assets-versioning.task" id="apidoc.module.grunt-assets-versioning.task">module grunt-assets-versioning.task</a></h1>


    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.task.task" id="apidoc.element.grunt-assets-versioning.task.task">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.</span>task
        <span class="apidocSignatureSpan">(taskName, taskFiles)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">task = function (taskName, taskFiles) {
  grunt.log.writeln(&#x22;Versioning files from &#x22; + taskName + &#x22; task.&#x22;);
  this.taskName = taskName;

  this.taskConfig = this.getTaskConfig();

  if (!this.taskConfig) {
    grunt.fail.warn(&#x22;Task &#x27;&#x22; + this.taskName + &#x22;&#x27; doesn&#x27;t exist or doesn&#x27;t have any configuration.&#x22;, 1);
  }

  this.taskFiles = taskFiles || this.getFiles();
  if (!this.taskFiles || this.taskFiles.length === 0) {
    grunt.fail.warn(&#x22;Task &#x27;&#x22; + this.taskName + &#x22;&#x27; doesn&#x27;t have any src-dest file mappings.&#x22;, 1);
  }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.grunt-assets-versioning.task.prototype" id="apidoc.module.grunt-assets-versioning.task.prototype">module grunt-assets-versioning.task.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.task.prototype.createPostVersioningTask" id="apidoc.element.grunt-assets-versioning.task.prototype.createPostVersioningTask">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.task.prototype.</span>createPostVersioningTask
        <span class="apidocSignatureSpan">(filesObj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createPostVersioningTask = function (filesObj) {
  var postTask = this.taskName + postSuffix;
  var taskConfigKey = this.getTaskConfigKey(postTask);

  if (grunt.config(taskConfigKey)) {
    grunt.fail.warn(&#x22;Task &#x27;&#x22; + postTask + &#x22;&#x27; already exists!&#x22;);
  }

  var postTaskConfig = this.taskConfig;
  // remove src &#x26; dest keys as they take precedence over the files key
  delete postTaskConfig.src;
  delete postTaskConfig.dest;
  postTaskConfig.options = postTaskConfig.options || {};
  postTaskConfig.options.post = false;
  postTaskConfig.options.tasks = false;
  postTaskConfig.isPostVersioningTaskFor = this.getTaskConfigKey();
  postTaskConfig.files = filesObj;

  grunt.config.set(taskConfigKey, postTaskConfig);
  grunt.log.debug(&#x22;Created Post Versioning Task &#x27;&#x22; + taskConfigKey + &#x22;&#x27;&#x22;);
  grunt.log.debug(&#x22;Post Versioning Task config: &#x22; + JSON.stringify(postTaskConfig));

  return this.taskName + postSuffix;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
AbstractVersioner.prototype.createPostVersioningTask = function () {
  var intermediateDestFiles = _.flatten(this.getTargetTasks().map(this.retrieveDestFiles.bind(this)));
  grunt.log.debug(&#x22;Retrieved all destination files: &#x22; + intermediateDestFiles.join(&#x27;, &#x27;));
  var filesArray = intermediateDestFiles.map(function (destFile) {
    return {src: [destFile], dest: destFile};
  });
  var task = new TaskClass(this.getAssetsVersioningTaskName(), filesArray);
  return task.<span class="apidocCodeKeywordSpan">createPostVersioningTask</span>(filesArray);
};

/**
 * Get the assets versioning task name (for example assets_versioning:mytask)
 * @returns {string}
 */
AbstractVersioner.prototype.getAssetsVersioningTaskName = function () {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.task.prototype.createSurrogate" id="apidoc.element.grunt-assets-versioning.task.prototype.createSurrogate">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.task.prototype.</span>createSurrogate
        <span class="apidocSignatureSpan">(filesObj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createSurrogate = function (filesObj) {
  var surrogateTask = this.taskName + surrogateSuffix;
  var surrogateTaskConfigKey = this.getTaskConfigKey(surrogateTask);

  if (grunt.config(surrogateTaskConfigKey)) {
    grunt.fail.warn(&#x22;Task &#x27;&#x22; + surrogateTask + &#x22;&#x27; already exists!&#x22;);
  }

  var surrogateTaskConfig = this.taskConfig;
  // remove src &#x26; dest keys as they take precedence over the files key
  delete surrogateTaskConfig.src;
  delete surrogateTaskConfig.dest;
  surrogateTaskConfig.files = filesObj;

  grunt.config.set(surrogateTaskConfigKey, surrogateTaskConfig);
  grunt.log.debug(&#x22;Created surrogateTask &#x27;&#x22; + surrogateTaskConfigKey + &#x22;&#x27;&#x22;);
  grunt.log.debug(&#x22;Surrogate Task config: &#x22; + JSON.stringify(surrogateTaskConfig));

  return surrogateTask;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Create a surrogate task
 * @param {Array} updatedTaskFiles
 * @param task
 * @returns {surrogateTask}
 */
ExternalVersioner.prototype.createSurrogateTask = function (updatedTaskFiles, task) {
  return task.<span class="apidocCodeKeywordSpan">createSurrogate</span>(updatedTaskFiles);
};

module.exports = ExternalVersioner;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.task.prototype.getFiles" id="apidoc.element.grunt-assets-versioning.task.prototype.getFiles">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.task.prototype.</span>getFiles
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getFiles = function () {
  return grunt.task.normalizeMultiTaskFiles(this.taskConfig);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  this.taskConfig = this.getTaskConfig();

  if (!this.taskConfig) {
    grunt.fail.warn(&#x22;Task &#x27;&#x22; + this.taskName + &#x22;&#x27; doesn&#x27;t exist or doesn&#x27;t have any configuration
.&#x22;, 1);
  }

  this.taskFiles = taskFiles || this.<span class="apidocCodeKeywordSpan">getFiles</span>();
  if (!this.taskFiles || this.taskFiles.length === 0) {
    grunt.fail.warn(&#x22;Task &#x27;&#x22; + this.taskName + &#x22;&#x27; doesn&#x27;t have any src-dest file mappings.&#x22;,
1);
  }

};

/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.task.prototype.getTaskConfig" id="apidoc.element.grunt-assets-versioning.task.prototype.getTaskConfig">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.task.prototype.</span>getTaskConfig
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getTaskConfig = function () {
  return grunt.config(this.getTaskConfigKey());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param {Array} [taskFiles]
 * @constructor
 */
var Task = function (taskName, taskFiles) {
grunt.log.writeln(&#x22;Versioning files from &#x22; + taskName + &#x22; task.&#x22;);
this.taskName = taskName;

this.taskConfig = this.<span class="apidocCodeKeywordSpan">getTaskConfig</span>();

if (!this.taskConfig) {
  grunt.fail.warn(&#x22;Task &#x27;&#x22; + this.taskName + &#x22;&#x27; doesn&#x27;t exist or doesn&#x27;t have any configuration
.&#x22;, 1);
}

this.taskFiles = taskFiles || this.getFiles();
if (!this.taskFiles || this.taskFiles.length === 0) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.grunt-assets-versioning.task.prototype.getTaskConfigKey" id="apidoc.element.grunt-assets-versioning.task.prototype.getTaskConfigKey">
        function <span class="apidocSignatureSpan">grunt-assets-versioning.task.prototype.</span>getTaskConfigKey
        <span class="apidocSignatureSpan">(taskName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getTaskConfigKey = function (taskName) {
  taskName = taskName || this.taskName;
  return taskName.replace(&#x27;:&#x27;, &#x27;.&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

/**
 * Get the task configuration
 * @returns {Object}
 */
Task.prototype.getTaskConfig = function () {
  return grunt.config(this.<span class="apidocCodeKeywordSpan">getTaskConfigKey</span>());
};

/**
 * Get the task configuration key
 * @returns {string}
 */
Task.prototype.getTaskConfigKey = function (taskName) {
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
